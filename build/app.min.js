/*! angular-seed 2017-03-21 */
"use strict";angular.module("myApp",["ngResource","ngCookies","LocalStorageModule"]),angular.module("myApp").factory("httpRequestInterceptor",function(a,b){var c=" ";return angular.isUndefined(b.token)?console.log("MEX-003B: localStorage token: "+b.token):(console.log("MEX-003A: localStorage token: "+b.token),a.token=b.get("token")),c=angular.isUndefined(a.token)||null==a?"Basic unisysdemexico":"Basic "+a.token,console.log("MEX-003C: initvalue: "+a.token),{request:function(a){return a.headers.Authorization=c,a.headers.Accept="application/json;odata=verbose",a}}}),angular.module("myApp").config(function(a){a.interceptors.push("httpRequestInterceptor")}),angular.module("myApp").run(function(a,b,c){var d=b.defer();c.get("http://192.168.0.207/getToken").then(function(a){d.resolve(a.data)}.bind(this),function(a){d.reject({error:a.data,status:a.status})}),d.promise.then(function(b){a.token=b.data.token,console.log("MEX-003A: data: "+JSON.stringify(b)),console.log("MEX-003B: $rootScope.token: "+a.token)}),a.clients=[{name:"Melissa Schroeder",isActive:!0,phone:"+1 (924) 506-2978"},{name:"Harding Holden",isActive:!1,phone:"+1 (989) 418-2445"},{name:"Warner Bowman",isActive:!0,phone:"+1 (837) 521-3042"},{name:"Castillo Kirk",isActive:!1,phone:"+1 (822) 483-3666"},{name:"Martha Chaney",isActive:!1,phone:"+1 (940) 547-3909"}]}),angular.module("myApp").service("AppModel",function(a,b,c,d,e){this.states=[{name:"Jalisco",abbreviation:"GDL"},{name:"Sonora",abbreviation:"SON"}];var f=b.defer();this.sendRequest=function(){c.get("http://192.168.0.207/arequest").then(function(b){f.resolve(b),console.log("MEX-004C: response:"+JSON.stringify(b.data)),console.log("MEX-004D: Cookies:"+JSON.stringify(d)),console.log("MEX-004E:   token:"+d.token),angular.isUndefined(d.token)?(e.set("token",a.toke),d.token=a.token,a.token=b.data.token):(e.set("token",d.token),a.token=d.token),console.log("MEX-004F: storaged token: "+e.get("token"))}.bind(this),function(a){f.reject({error:a.data,status:a.status}),console.log("MEX-004F: error:"+a.data+", status:"+a.status)})}}),angular.module("myApp").controller("MainController",["AppModel",function(a){this.model=a}]);